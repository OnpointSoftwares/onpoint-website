{% extends 'base.html' %}
{% block content %}
{% load static %}
<!-- Hero -->
<section class="hero-section position-relative overflow-hidden" id="hero">
  <div class="container py-5">
    <div class="row align-items-center py-5">
      <div class="col-lg-6" data-aos="fade-up">
        <h1 class="display-4 fw-extrabold mb-3">Design. Build. Ship.</h1>
        <p class="lead text-secondary mb-4">Innovating Your Digital Future — Custom Software, Websites, Mobile Apps, and Expert GitHub README craft.</p>
        <div class="d-flex gap-3">
          <a href="/contact-us/" class="btn btn-gradient btn-lg">Get Started</a>
          <a href="#services" class="btn btn-outline-light btn-lg">Our Services</a>
        </div>
      </div>
      <div class="col-lg-6" data-aos="fade-left">
        <div class="hero-graphic rounded-4">
            <img src="{% static 'images/hero-image.jpg' %}" alt="Hero Graphic" class="img-fluid">
        </div>
      </div>
    </div>

    <div class="row text-center mt-4" data-aos="fade-up">
      <div class="col-6 col-md-3">
        <div class="stat">
          <div class="h2 fw-bold" data-counter data-target="{{ stats.years_experience }}">{{ stats.years_experience }}</div>
          <div class="text-secondary small">Years Experience</div>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="stat">
          <div class="h2 fw-bold" data-counter data-target="{{ stats.projects_delivered }}">{{ stats.projects_delivered }}</div>
          <div class="text-secondary small">Projects Delivered</div>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="stat">
          <div class="h2 fw-bold" data-counter data-target="{{ stats.client_satisfaction }}">{{ stats.client_satisfaction }}</div>
          <div class="text-secondary small">Client Satisfaction (%)</div>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="stat">
          <div class="h2 fw-bold" data-counter data-target="{{ stats.team_members }}">{{ stats.team_members }}</div>
          <div class="text-secondary small">Team Members</div>
        </div>
      </div>
    </div>
  </div>
  <div class="hero-bg-gradient"></div>
</section>
<!-- About Us -->
<section id="about" class="py-5 bg-black-50">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-5 mb-lg-0" data-aos="fade-right">
          <div class="position-relative">
            <div class="about-image rounded-4 overflow-hidden">
              <img src="{% static 'images/about-us.jpg' %}" 
                   alt="Our Team" class="img-fluid w-100">
            </div>
            <div class="experience-badge bg-primary text-white rounded-pill py-2 px-4 position-absolute bottom-0 start-0 m-4">
              <span class="h4 mb-0">7+</span>
              <div class="small">Years Experience</div>
            </div>
          </div>
        </div>
        <div class="col-lg-6 ps-lg-5" data-aos="fade-left">
          <h6 class="text-uppercase text-primary mb-3">About Us</h6>
          
          <div class="row g-4 mb-4">
            <div class="col-sm-6">
              <div class="d-flex">
                <div class="me-3">
                  <div class="icon-wrap">
                    <i class="bi bi-lightbulb"></i>
                  </div>
                </div>
                <div>
                  <h5 class="h6 mb-2">Our Mission</h5>
                  <p class="small text-light mb-0">To empower businesses through innovative and reliable technology solutions.</p>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="d-flex">
                <div class="me-3">
                  <div class="icon-wrap">
                    <i class="bi bi-eye"></i>
                  </div>
                </div>
                <div>
                  <h5 class="h6 mb-2">Our Vision</h5>
                  <p class="small text-light mb-0">To be the most trusted technology partner for businesses worldwide.</p>
                </div>
              </div>
            </div>
          </div>
  
          <div class="mt-4">
            <a href="/contact-us/" class="btn btn-gradient me-3">Get in Touch</a>
            <a href="{% url 'about' %}" class="btn btn-outline-light">Learn More</a>
          </div>
        </div>
      </div>
    </div>
  </section>
<!-- Services -->
<section id="services" class="py-5">
  <div class="container">
    <h2 class="section-title" data-aos="fade-up">Our Services</h2>
    <div class="row g-4 mt-1">
      <div class="col-md-6 col-lg-3" data-aos="fade-up">
        <div class="card service-card h-100">
          <div class="banner">
            <img src="{% static 'images/customsoftware.png' %}" class="img-fluid" height="100" alt="Custom Software Development" class="img-fluid">
          </div>
          <div class="card-body">
            <div class="icon-wrap mb-3"><i class="bi bi-cpu"></i></div>
            <h5 class="card-title text-white">Custom Software Development</h5>
            <p class="card-text text-secondary">Robust, scalable systems tailored to your business.</p>
          </div>
          <div class="footer">
            <a href="custom-software-development/" class="btn btn-outline-light justify-content-center">Learn More</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="50">
        <div class="card service-card h-100">
          <div class="banner">
            <img src="{% static 'images/webdev.png' %}" class="img-fluid" height="100" alt="Website Design & Development" class="img-fluid">
          </div>
          <div class="card-body">
            <div class="icon-wrap mb-3"><i class="bi bi-window"></i></div>
            <h5 class="card-title text-white">Website Design & Development</h5>
            <p class="card-text text-secondary">Beautiful, fast, and SEO-ready websites.</p>
          </div>
          <div class="footer">
            <a href="web-development/" class="btn btn-outline-light justify-content-center">Learn More</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="100">
        <div class="card service-card h-100">
          <div class="banner">
            <img src="{% static 'images/mobileappdev.png' %}" class="img-fluid" alt="Mobile App Development" height="100" class="img-fluid">
          </div>
          <div class="card-body">
            <div class="icon-wrap mb-3"><i class="bi bi-phone"></i></div>
            <h5 class="card-title text-white">Mobile App Development</h5>
            <p class="card-text text-secondary">iOS and Android apps using modern stacks.</p>
          </div>
          <div class="footer">
            <a href="mobile-development/" class="btn btn-outline-light justify-content-center">Learn More</a>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="150">
        <div class="card service-card h-100">
          <div class="banner">
            <img src="{% static 'images/github-readme.png' %}" class="img-fluid" alt="GitHub README Writing & Editing" height="100" class="img-fluid">
          </div>
          <div class="card-body">
            <div class="icon-wrap mb-3"><i class="bi bi-journal-code"></i></div>
            <h5 class="card-title text-white">GitHub README Writing & Editing</h5>
            <p class="card-text text-secondary">Clear, polished documentation that stands out.</p>
          </div>
          <div class="footer">
            <a href="github-readme/" class="btn btn-outline-light justify-content-center">Learn More</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Price Calculator -->
<section id="pricing" class="py-5 bg-black-50">
      <div class="container">
    <div class="text-center mb-5" data-aos="fade-up">
      <h6 class="text-uppercase text-primary mb-3">Pricing</h6>
      <h2 class="text-white mb-4">Estimate Your Project Cost</h2>
      <p class="text-light mb-4">Use our calculator to get an instant quote for your project</p>
    </div>
    
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card glass p-4">
          <div class="row g-4">
            <div class="col-md-6">
              <div class="mb-4">
                <label class="form-label text-light">Project Type</label>
                <select class="form-select" id="projectType">
                  <option value="website">Website Development</option>
                  <option value="webapp">Web Application</option>
                  <option value="mobile">Mobile App</option>
                  <option value="ecommerce">E-commerce</option>
                  <option value="custom">Custom Software</option>
                </select>
              </div>
              
              <div class="mb-4">
                <label class="form-label text-light">Number of Pages</label>
                <input type="range" class="form-range" min="1" max="50" value="5" id="pageCount">
                <div class="d-flex justify-content-between">
                  <span class="text-light small">1-5</span>
                  <span class="text-light small">50+</span>
                </div>
                <div class="text-center mt-2">
                  <span class="badge bg-primary"><span id="pageCountValue">5</span> Pages</span>
                </div>
              </div>
              
              <div class="mb-4">
                <label class="form-label text-light">Design Complexity</label>
                <select class="form-select" id="designComplexity">
                  <option value="basic">Basic (Template-based)</option>
                  <option value="standard" selected>Standard (Semi-custom)</option>
                  <option value="premium">Premium (Fully Custom)</option>
                </select>
              </div>
            </div>
            
            <div class="col-md-6">
              <div class="mb-4">
                <label class="form-label text-light">Features</label>
                <div class="form-check mb-2">
                  <input class="form-check-input" type="checkbox" value="" id="featureSeo">
                  <label class="form-check-label text-light" for="featureSeo">
                    SEO Optimization
                  </label>
                </div>
                <div class="form-check mb-2">
                  <input class="form-check-input" type="checkbox" value="" id="featureResponsive">
                  <label class="form-check-label text-light" for="featureResponsive">
                    Responsive Design
                  </label>
                </div>
                <div class="form-check mb-2">
                  <input class="form-check-input" type="checkbox" value="" id="featureCms">
                  <label class="form-check-label text-light" for="featureCms">
                    Content Management
                  </label>
                </div>
                <div class="form-check mb-2">
                  <input class="form-check-input" type="checkbox" value="" id="featureEcommerce">
                  <label class="form-check-label text-light" for="featureEcommerce">
                    E-commerce Functionality
                  </label>
                </div>
              </div>
              
              <div class="p-4 bg-dark-soft rounded-3">
                <h5 class="text-white mb-3">Estimated Cost</h5>
                <div class="d-flex align-items-center mb-2">
                  <span class="me-2 text-light">Total:</span>
                  <h3 class="text-gradient mb-0">
                    <span id="totalCost">
                      KES 12,750
                      <small class="text-success d-block mt-1">
                        <i class="bi bi-stars me-1"></i> 15% startup discount applied
                      </small>
                    </span>
                  </h3>
                </div>
                <p class="small text-muted mb-0">This is an estimate. Contact us for a detailed quote.</p>
              </div>
              
              <button class="btn btn-gradient w-100 mt-4" id="getQuoteBtn">Get Detailed Quote</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Portfolio -->
<section id="portfolio" class="py-5 bg-black-50">
  <div class="container">
    <h2 class="section-title" data-aos="fade-up">Portfolio</h2>
    <div class="row g-4 mt-1">
      {% for project in projects %}
      <div class="col-6 col-md-4" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0|add:1 }}0">
        <div class="portfolio-card">
          <div class="banner">
            {% if project.image %}
              <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-fluid">
            {% else %}
              <div class="placeholder-image d-flex align-items-center justify-content-center bg-secondary text-white">
                <i class="bi bi-image fs-1"></i>
              </div>
            {% endif %}
          </div>
          <div class="body">
            <div>
              <h6>{{ project.title }}</h6>
              <p class="small text-secondary mb-0">{{ project.short_description }}</p>
              {% if project.technologies %}
                <div class="mt-2">
                  {% for tech in project.get_technologies_list|slice:":3" %}
                    <span class="badge bg-primary me-1">{{ tech }}</span>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
          </div>
          <div class="footer">
            {% if project.live_url %}
              <a href="{{ project.live_url }}" target="_blank" class="btn btn-gradient">View Project</a>
            {% elif project.github_url %}
              <a href="{{ project.github_url }}" target="_blank" class="btn btn-outline-primary">View Code</a>
            {% else %}
              <span class="btn btn-secondary disabled">Coming Soon</span>
            {% endif %}
          </div>
        </div>
      </div>
      {% empty %}
      <!-- Fallback content when no projects are available -->
      <div class="col-12 text-center py-5">
        <div class="text-muted">
          <i class="bi bi-folder2-open fs-1 mb-3 d-block"></i>
          <h5>No Featured Projects Yet</h5>
          <p>We're working on some amazing projects. Check back soon!</p>
        </div>
      </div>
      {% endfor %}
    </div>
    
    {% if projects.count > 6 %}
    <div class="text-center mt-4">
      <a href="#" class="btn btn-outline-light">View All Projects</a>
    </div>
    {% endif %}
  </div>
</section>

<!-- Testimonials -->
<section id="testimonials" class="py-5">
  <div class="container">
    <h2 class="section-title" data-aos="fade-up">What Clients Say</h2>
    <div class="swiper mt-3" data-aos="fade-up">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="testimonial-card">
            <p class="mb-3">“OnPoint delivered beyond expectations. The app is fast and beautifully designed.”</p>
            <div class="d-flex align-items-center gap-2">
              <div class="avatar"></div>
              <div>
                <div class="fw-semibold">Jane Kimani</div>
                <div class="small text-secondary">Product Manager, FinTech Co.</div>
              </div>
            </div>
          </div>
        </div>
        <div class="swiper-slide">
          <div class="testimonial-card">
            <p class="mb-3">“Great communication and superb code quality. Highly recommended.”</p>
            <div class="d-flex align-items-center gap-2">
              <div class="avatar"></div>
              <div>
                <div class="fw-semibold">Jakes Kipkemoi</div>
                <div class="small text-secondary">CTO, HealthTech</div>
              </div>
            </div>
          </div>
        </div>
        <div class="swiper-slide">
          <div class="testimonial-card">
            <p class="mb-3">“Our website conversions increased by 40% after the redesign.”</p>
            <div class="d-flex align-items-center gap-2">
              <div class="avatar"></div>
              <div>
                <div class="fw-semibold">Mary Kamau</div>
                <div class="small text-secondary">Founder, EduStart</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<!-- Latest Articles -->
<section id="articles" class="py-5">
  <div class="container">
    <div class="text-center mb-5" data-aos="fade-up">
      <h6 class="text-uppercase text-primary mb-3">Our Blog</h6>
      <h2 class="text-white mb-4">Latest Articles</h2>
      <p class="lead text-muted mx-auto" style="max-width: 700px;">Stay updated with our latest insights, tutorials, and industry news.</p>
    </div>
    
    <div class="row g-4">
      {% for article in latest_articles %}
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}">
        <div class="card h-100 border-0 bg-dark-100 hover-shadow transition-all">
          <div class="position-relative">
            <img src="{{ article.image.url }}" class="card-img-top" alt="{{ article.title }}">
            <div class="position-absolute top-0 end-0 m-3">
              <span class="badge bg-primary">{{ article.created_at|date:"M d" }}</span>
            </div>
          </div>
          <div class="card-body">
            <h5 class="card-title text-white">{{ article.title }}</h5>
            <p class="card-text text-muted">{{ article.short_description|truncatewords:20 }}</p>
          </div>
          <div class="card-footer bg-transparent border-0 pt-0">
            <a href="{% url 'article_detail_by_slug' article.slug %}" class="btn btn-link px-0">
              Read More <i class="bi bi-arrow-right ms-1"></i>
            </a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <i class="bi bi-newspaper display-1 text-muted mb-3"></i>
        <h4>No articles yet</h4>
        <p class="text-muted">Check back soon for our latest articles and updates.</p>
      </div>
      {% endfor %}
    </div>
    
    {% if latest_articles %}
    <div class="text-center mt-5" data-aos="fade-up">
      <a href="{% url 'article_list' %}" class="btn btn-outline-light">
        View All Articles <i class="bi bi-arrow-right ms-2"></i>
      </a>
    </div>
    {% endif %}
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Counter Animation
document.addEventListener('DOMContentLoaded', function() {
    const counters = document.querySelectorAll('[data-counter]');
    
    const animateCounter = (counter) => {
        const target = parseInt(counter.getAttribute('data-target'));
        const duration = 2000; // 2 seconds
        const increment = target / (duration / 16); // 60fps
        let current = 0;
        
        const updateCounter = () => {
            current += increment;
            if (current < target) {
                counter.textContent = Math.floor(current);
                requestAnimationFrame(updateCounter);
            } else {
                counter.textContent = target;
            }
        };
        
        updateCounter();
    };
    
    // Intersection Observer to trigger animation when in view
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounter(entry.target);
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.5 });
    
    counters.forEach(counter => {
        observer.observe(counter);
    });
});
</script>
{% endblock %}
